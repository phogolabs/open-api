# pet-store

This is a sample Petstore server.  You can find out more about Swagger at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/). 

API version: 1.0.0

### Overview

This server was generated by the
[openapi-generator](https://openapi-generator.tech) project. By using the
[OpenAPI-Spec](https://github.com/OAI/OpenAPI-Specification) from a remote
server, you can easily generate a server stub. To see how to make this your
own, look [here](https://openapi-generator.tech).

For more information, please visit [http://www.swagger.io](http://www.swagger.io)

### Prerequisite

You should have the following tools installed:

- [Golang](https://www.golang.org) language (at least version 1.12)

*Make sure that the environment variable `GOPATH` is set. The `GOPATH` directory
will be used as workspace directory for all GO projects.*

### Getting Started

You should get the source code by executing the following commands:

```bash
$ export ORG_DIR=github.com/phogolabs
$ mkdir -p $GOPATH/src/$ORG_DIR
$ cd $GOPATH/src/$ORG_DIR
$ git clone git@github.com:phogolabs/pet-store.git
```

### Getting all dependencies

In order to get a dependencies from private repositories you should
configure your git client to use git protocol:

```
$ git config --global url."git@github.com:".insteadOf "https://github.com/"
```

The dependencies are managed by Golang's
[modules](https://github.com/golang/go/wiki/Modules) dependency system:

```bash
$ export GO111MODULE=on
$ cd $GOPATH/src/$ORG_DIR/pet-store
$ go get ./...
```

### Running the tests

The packages is tested in
[BDD](https://en.wikipedia.org/wiki/Behavior-driven_development) style. For
that purpose, we are using [Ginkgo](http://onsi.github.io/ginkgo/) and
[Gomega](http://onsi.github.io/gomega/) packages.

You can install all of them by executing the following commands:

```bash
$ go get github.com/onsi/ginkgo/ginkgo
$ go get github.com/onsi/gomega
```

Then you can run all tests with the following command:

```bash
$ ginkgo -r
```

### Building the binary

```bash
$ export GO111MODULE=on
$ cd $GOPATH/src/$ORG_DIR/pet-store
$ mkdir -p build
$ go get ./...
$ go build -o ./build/pet-store $ORG_DIRpet-store/cmd/pet-store
```

### Running the server

To run the server, follow these simple steps:

```bash
# run the compiled binary
$ ./build/pet-store
```

```bash
# another option is just to use golang command line tool
$ go run cmd/pet-store/main.go
```

#### Docker

To run the server in a docker container, you first need to build a docker
image:

```bash
$ go mod vendor
$ go mod verify
$ docker build -f deployment/dockerfiles/Dockerfile.pet-store -t pet-store .
```

Once the image is built, just run:

```bash
docker run --rm -it pet-store 
```

### Documentation

For more information please refer to the [API
Documentation](./documentation/README.md).


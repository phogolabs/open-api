package handler_test

import (
  "testing"

  "github.com/phogolabs/log"
  "github.com/phogolabs/log/handler/json"

  . "github.com/onsi/ginkgo"
  . "github.com/onsi/gomega"
)

func TestHandler(t *testing.T) {
  handler := json.New(GinkgoWriter)
  handler.SetPretty(true)
  handler.SetColor(true)
  
  log.SetLevel(log.DebugLevel)
  log.SetHandler(handler)
  
  RegisterFailHandler(Fail)
  RunSpecs(t, "Service Handler Suite")
}
